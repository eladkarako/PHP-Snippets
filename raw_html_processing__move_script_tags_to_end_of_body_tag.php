<?php
  header("Content-Type: text/plain; UTF-8");

  //mock HTML
  $content = "%3C!DOCTYPE%20html%3E%20%3Chtml%20lang%3D%22en-US%22%20class%3D%22no-js%22%3E%20%3Chead%3E%20%3Cmeta%20charset%3D%22UTF-8%22%3E%20%3Cmeta%20name%3D%22viewport%22%20content%3D%22width%3Ddevice-width%22%3E%20%3Clink%20rel%3D%22profile%22%20href%3D%22http%3A%2F%2Fgmpg.org%2Fxfn%2F11%22%3E%20%3Clink%20rel%3D%22pingback%22%20href%3D%22http%3A%2F%2Flocal.eladkarako.com%2Ficompile%2Fxmlrpc.php%22%3E%20%3C!--%5Bif%20lt%20IE%209%5D%3E%20%3Cscript%20\nsrc%3D%22http%3A%2F%2Flocal.eladkarako.com%2Ficompile%2Fwp-content%2Fthemes%2Ftwentyfifteen%2Fjs%2Fhtml5.js%22%3E%3C%2Fscript%3E%20%3C!%5Bendif%5D--%3E%20%3Cscript%3E\n(function(html)%7Bhtml.className%20%3D%20html.className.replace(%2F%5Cbno-js%5Cb%2F%2C'js')%7D)(document.documentElement)%3B%3C%2Fscript%3E%20%3Ctitle%3EiCompile%20(Local)%20%7C%20Just%20another%20WordPress%20site%3C%2Ftitle%3E%20%3Clink%20rel%3D%22alternate%22%20type%3D%22application%2Frss%2Bxml%22%20title%3D%22iCompile%20(Local)%20%26raquo%3B%20Feed%22%20href%3D%22http%3A%2F%2Flocal.eladkarako.com%2Ficompile%2F%3Ffeed%3Drss2%22%20%2F%3E%20%3Clink%20rel%3D%22alternate%22%20type%3D%22application%2Frss%2Bxml%22%20title%3D%22iCompile%20(Local)%20%26raquo%3B%20Comments%20Feed%22%20href%3D%22http%3A%2F%2Flocal.eladkarako.com%2Ficompile%2F%3Ffeed%3Dcomments-rss2%22%20%2F%3E%20%3Clink%20rel%3D'stylesheet'%20id%3D'open-sans-css'%20href%3D'%2F%2Ffonts.googleapis.com%2Fcss%3Ffamily%3DOpen%2BSans%253A300italic%252C400italic%252C600italic%252C300%252C400%252C600%26%23038%3Bsubset%3Dlatin%252Clatin-ext%26%23038%3Bver%3D4.2-alpha-31273'%20type%3D'text%2Fcss'%20media%3D'all'%20%2F%3E%20%3Clink%20rel%3D'stylesheet'%20id%3D'dashicons-css'%20href%3D'http%3A%2F%2Flocal.eladkarako.com%2Ficompile%2Fwp-includes%2Fcss%2Fdashicons.min.css%3Fver%3D4.2-alpha-31273'%20type%3D'text%2Fcss'%20media%3D'all'%20%2F%3E%20%3Clink%20rel%3D'stylesheet'%20id%3D'admin-bar-css'%20href%3D'http%3A%2F%2Flocal.eladkarako.com%2Ficompile%2Fwp-includes%2Fcss%2Fadmin-bar.min.css%3Fver%3D4.2-alpha-31273'%20type%3D'text%2Fcss'%20media%3D'all'%20%2F%3E%20%3Clink%20rel%3D'stylesheet'%20id%3D'twentyfifteen-fonts-css'%20href%3D'%2F%2Ffonts.googleapis.com%2Fcss%3Ffamily%3DNoto%2BSans%253A400italic%252C700italic%252C400%252C700%257CNoto%2BSerif%253A400italic%252C700italic%252C400%252C700%257CInconsolata%253A400%252C700%26%23038%3Bsubset%3Dlatin%252Clatin-ext'%20type%3D'text%2Fcss'%20media%3D'all'%20%2F%3E%20%3Clink%20rel%3D'stylesheet'%20id%3D'genericons-css'%20href%3D'http%3A%2F%2Flocal.eladkarako.com%2Ficompile%2Fwp-content%2Fthemes%2Ftwentyfifteen%2Fgenericons%2Fgenericons.css%3Fver%3D3.2'%20type%3D'text%2Fcss'%20media%3D'all'%20%2F%3E%20%3Clink%20rel%3D'stylesheet'%20id%3D'twentyfifteen-style-css'%20href%3D'http%3A%2F%2Flocal.eladkarako.com%2Ficompile%2Fwp-content%2Fthemes%2Ftwentyfifteen%2Fstyle.css%3Fver%3D4.2-alpha-31273'%20type%3D'text%2Fcss'%20media%3D'all'%20%2F%3E%20%3C!--%5Bif%20lt%20IE%209%5D%3E%20%3Clink%20rel%3D'stylesheet'%20id%3D'twentyfifteen-ie-css'%20href%3D'http%3A%2F%2Flocal.eladkarako.com%2Ficompile%2Fwp-content%2Fthemes%2Ftwentyfifteen%2Fcss%2Fie.css%3Fver%3D20141010'%20type%3D'text%2Fcss'%20media%3D'all'%20%2F%3E%20%3C!%5Bendif%5D--%3E%20%3C!--%5Bif%20lt%20IE%208%5D%3E%20%3Clink%20rel%3D'stylesheet'%20id%3D'twentyfifteen-ie7-css'%20href%3D'http%3A%2F%2Flocal.eladkarako.com%2Ficompile%2Fwp-content%2Fthemes%2Ftwentyfifteen%2Fcss%2Fie7.css%3Fver%3D20141010'%20type%3D'text%2Fcss'%20media%3D'all'%20%2F%3E%20%3C!%5Bendif%5D--%3E%20%3Cscript%20type%3D'text%2Fjavascript'%20src%3D'http%3A%2F%2Flocal.eladkarako.com%2Ficompile%2Fwp-includes%2Fjs%2Fjquery%2Fjquery.js%3Fver%3D1.11.1'%3E%3C%2Fscript%3E%20%3Cscript%20type%3D'text%2Fjavascript'%20src%3D'http%3A%2F%2Flocal.eladkarako.com%2Ficompile%2Fwp-includes%2Fjs%2Fjquery%2Fjquery-migrate.min.js%3Fver%3D1.2.1'%3E%3C%2Fscript%3E%20%3Clink%20rel%3D%22EditURI%22%20type%3D%22application%2Frsd%2Bxml%22%20title%3D%22RSD%22%20href%3D%22http%3A%2F%2Flocal.eladkarako.com%2Ficompile%2Fxmlrpc.php%3Frsd%22%20%2F%3E%20%3Clink%20rel%3D%22wlwmanifest%22%20type%3D%22application%2Fwlwmanifest%2Bxml%22%20href%3D%22http%3A%2F%2Flocal.eladkarako.com%2Ficompile%2Fwp-includes%2Fwlwmanifest.xml%22%20%2F%3E%20%3Cmeta%20name%3D%22generator%22%20content%3D%22WordPress%204.2-alpha-31273%22%20%2F%3E%20%3Cstyle%20type%3D%22text%2Fcss%22%3E.recentcomments%20a%7Bdisplay%3Ainline%20!important%3Bpadding%3A0%20!important%3Bmargin%3A0%20!important%3B%7D%3C%2Fstyle%3E%20%3Cstyle%20type%3D%22text%2Fcss%22%20media%3D%22print%22%3E%23wpadminbar%20%7B%20display%3Anone%3B%20%7D%3C%2Fstyle%3E%20%3Cstyle%20type%3D%22text%2Fcss%22%20media%3D%22screen%22%3E%20html%20%7B%20margin-top%3A%2032px%20!important%3B%20%7D%20*%20html%20body%20%7B%20margin-top%3A%2032px%20!important%3B%20%7D%20%40media%20screen%20and%20(%20max-width%3A%20782px%20)%20%7B%20html%20%7B%20margin-top%3A%2046px%20!important%3B%20%7D%20*%20html%20body%20%7B%20margin-top%3A%2046px%20!important%3B%20%7D%20%7D%20%3C%2Fstyle%3E%20%3C%2Fhead%3E%20%3Cbody%20class%3D%22home%20blog%20logged-in%20admin-bar%20no-customize-support%22%3E%20%3Cdiv%20id%3D%22page%22%20class%3D%22hfeed%20site%22%3E%20%3Ca%20class%3D%22skip-link%20screen-reader-text%22%20href%3D%22%23content%22%3ESkip%20to%20content%3C%2Fa%3E%20%3Cdiv%20id%3D%22sidebar%22%20class%3D%22sidebar%22%3E%20%3Cheader%20id%3D%22masthead%22%20class%3D%22site-header%22%20role%3D%22banner%22%3E%20%3Cdiv%20class%3D%22site-branding%22%3E%20%3Ch1%20class%3D%22site-title%22%3E%3Ca%20href%3D%22http%3A%2F%2Flocal.eladkarako.com%2Ficompile%2F%22%20rel%3D%22home%22%3EiCompile%20(Local)%3C%2Fa%3E%3C%2Fh1%3E%20%3Cp%20class%3D%22site-description%22%3EJust%20another%20WordPress%20site%3C%2Fp%3E%20%3Cbutton%20class%3D%22secondary-toggle%22%3EMenu%20and%20widgets%3C%2Fbutton%3E%20%3C%2Fdiv%3E%3C!--%20.site-branding%20--%3E%20%3C%2Fheader%3E%3C!--%20.site-header%20--%3E%20%3Cdiv%20id%3D%22secondary%22%20class%3D%22secondary%22%3E%20%3Cdiv%20id%3D%22widget-area%22%20class%3D%22widget-area%22%20role%3D%22complementary%22%3E%20%3Caside%20id%3D%22search-2%22%20class%3D%22widget%20widget_search%22%3E%3Cform%20role%3D%22search%22%20method%3D%22get%22%20class%3D%22search-form%22%20action%3D%22http%3A%2F%2Flocal.eladkarako.com%2Ficompile%2F%22%3E%20%3Clabel%3E%20%3Cspan%20class%3D%22screen-reader-text%22%3ESearch%20for%3A%3C%2Fspan%3E%20%3Cinput%20type%3D%22search%22%20class%3D%22search-field%22%20placeholder%3D%22Search%20%26hellip%3B%22%20value%3D%22%22%20name%3D%22s%22%20title%3D%22Search%20for%3A%22%20%2F%3E%20%3C%2Flabel%3E%20%3Cinput%20type%3D%22submit%22%20class%3D%22search-submit%20screen-reader-text%22%20value%3D%22Search%22%20%2F%3E%20%3C%2Fform%3E%3C%2Faside%3E%20%3Caside%20id%3D%22recent-posts-2%22%20class%3D%22widget%20widget_recent_entries%22%3E%20%3Ch2%20class%3D%22widget-title%22%3ERecent%20Posts%3C%2Fh2%3E%20%3Cul%3E%20%3Cli%3E%20%3Ca%20href%3D%22http%3A%2F%2Flocal.eladkarako.com%2Ficompile%2F%3Fp%3D1%22%3EHello%20world!%3C%2Fa%3E%20%3C%2Fli%3E%20%3C%2Ful%3E%20%3C%2Faside%3E%3Caside%20id%3D%22recent-comments-2%22%20class%3D%22widget%20widget_recent_comments%22%3E%3Ch2%20class%3D%22widget-title%22%3ERecent%20Comments%3C%2Fh2%3E%3Cul%20id%3D%22recentcomments%22%3E%3Cli%20class%3D%22recentcomments%22%3E%3Cspan%20class%3D%22comment-author-link%22%3E%3Ca%20href%3D'https%3A%2F%2Fwordpress.org%2F'%20rel%3D'external%20nofollow'%20class%3D'url'%3EMr%20WordPress%3C%2Fa%3E%3C%2Fspan%3E%20on%20%3Ca%20href%3D%22http%3A%2F%2Flocal.eladkarako.com%2Ficompile%2F%3Fp%3D1%23comment-1%22%3EHello%20world!%3C%2Fa%3E%3C%2Fli%3E%3C%2Ful%3E%3C%2Faside%3E%3Caside%20id%3D%22archives-2%22%20class%3D%22widget%20widget_archive%22%3E%3Ch2%20class%3D%22widget-title%22%3EArchives%3C%2Fh2%3E%20%3Cul%3E%20%3Cli%3E%3Ca%20href%3D'http%3A%2F%2Flocal.eladkarako.com%2Ficompile%2F%3Fm%3D201501'%3EJanuary%202015%3C%2Fa%3E%3C%2Fli%3E%20%3C%2Ful%3E%20%3C%2Faside%3E%3Caside%20id%3D%22categories-2%22%20class%3D%22widget%20widget_categories%22%3E%3Ch2%20class%3D%22widget-title%22%3ECategories%3C%2Fh2%3E%20%3Cul%3E%20%3Cli%20class%3D%22cat-item%20cat-item-1%22%3E%3Ca%20href%3D%22http%3A%2F%2Flocal.eladkarako.com%2Ficompile%2F%3Fcat%3D1%22%20%3EUncategorized%3C%2Fa%3E%20%3C%2Fli%3E%20%3C%2Ful%3E%20%3C%2Faside%3E%3Caside%20id%3D%22meta-2%22%20class%3D%22widget%20widget_meta%22%3E%3Ch2%20class%3D%22widget-title%22%3EMeta%3C%2Fh2%3E%20%3Cul%3E%20%3Cli%3E%3Ca%20href%3D%22http%3A%2F%2Flocal.eladkarako.com%2Ficompile%2Fwp-admin%2F%22%3ESite%20Admin%3C%2Fa%3E%3C%2Fli%3E%20%3Cli%3E%3Ca%20href%3D%22http%3A%2F%2Flocal.eladkarako.com%2Ficompile%2Fwp-login.php%3Faction%3Dlogout%26%23038%3B_wpnonce%3D6a3356fe7f%22%3ELog%20out%3C%2Fa%3E%3C%2Fli%3E%20%3Cli%3E%3Ca%20href%3D%22http%3A%2F%2Flocal.eladkarako.com%2Ficompile%2F%3Ffeed%3Drss2%22%3EEntries%20%3Cabbr%20title%3D%22Really%20Simple%20Syndication%22%3ERSS%3C%2Fabbr%3E%3C%2Fa%3E%3C%2Fli%3E%20%3Cli%3E%3Ca%20href%3D%22http%3A%2F%2Flocal.eladkarako.com%2Ficompile%2F%3Ffeed%3Dcomments-rss2%22%3EComments%20%3Cabbr%20title%3D%22Really%20Simple%20Syndication%22%3ERSS%3C%2Fabbr%3E%3C%2Fa%3E%3C%2Fli%3E%20%3Cli%3E%3Ca%20href%3D%22https%3A%2F%2Fwordpress.org%2F%22%20title%3D%22Powered%20by%20WordPress%2C%20state-of-the-art%20semantic%20personal%20publishing%20platform.%22%3EWordPress.org%3C%2Fa%3E%3C%2Fli%3E%20%3C%2Ful%3E%20%3C%2Faside%3E%20%3C%2Fdiv%3E%3C!--%20.widget-area%20--%3E%20%3C%2Fdiv%3E%3C!--%20.secondary%20--%3E%20%3C%2Fdiv%3E%3C!--%20.sidebar%20--%3E%20%3Cdiv%20id%3D%22content%22%20class%3D%22site-content%22%3E%20%3Cdiv%20id%3D%22primary%22%20class%3D%22content-area%22%3E%20%3Cmain%20id%3D%22main%22%20class%3D%22site-main%22%20role%3D%22main%22%3E%20%3Carticle%20id%3D%22post-1%22%20class%3D%22post-1%20post%20type-post%20status-publish%20format-standard%20hentry%20category-uncategorized%22%3E%20%3Cheader%20class%3D%22entry-header%22%3E%20%3Ch2%20class%3D%22entry-title%22%3E%3Ca%20href%3D%22http%3A%2F%2Flocal.eladkarako.com%2Ficompile%2F%3Fp%3D1%22%20rel%3D%22bookmark%22%3EHello%20world!%3C%2Fa%3E%3C%2Fh2%3E%20%3C%2Fheader%3E%3C!--%20.entry-header%20--%3E%20%3Cdiv%20class%3D%22entry-content%22%3E%20%3Cp%3EWelcome%20to%20WordPress.%20This%20is%20your%20first%20post.%20Edit%20or%20delete%20it%2C%20then%20start%20blogging!%3C%2Fp%3E%20%3C%2Fdiv%3E%3C!--%20.entry-content%20--%3E%20%3Cfooter%20class%3D%22entry-footer%22%3E%20%3Cspan%20class%3D%22posted-on%22%3E%3Cspan%20class%3D%22screen-reader-text%22%3EPosted%20on%20%3C%2Fspan%3E%3Ca%20href%3D%22http%3A%2F%2Flocal.eladkarako.com%2Ficompile%2F%3Fp%3D1%22%20rel%3D%22bookmark%22%3E%3Ctime%20class%3D%22entry-date%20published%20updated%22%20datetime%3D%222015-01-24T03%3A29%3A07%2B00%3A00%22%3EJanuary%2024%2C%202015%3C%2Ftime%3E%3C%2Fa%3E%3C%2Fspan%3E%3Cspan%20class%3D%22comments-link%22%3E%3Ca%20href%3D%22http%3A%2F%2Flocal.eladkarako.com%2Ficompile%2F%3Fp%3D1%23comments%22%20title%3D%22Comment%20on%20Hello%20world!%22%3E1%20Comment%3C%2Fa%3E%3C%2Fspan%3E%20%3Cspan%20class%3D%22edit-link%22%3E%3Ca%20class%3D%22post-edit-link%22%20href%3D%22http%3A%2F%2Flocal.eladkarako.com%2Ficompile%2Fwp-admin%2Fpost.php%3Fpost%3D1%26amp%3Baction%3Dedit%22%3EEdit%3C%2Fa%3E%3C%2Fspan%3E%20%3C%2Ffooter%3E%3C!--%20.entry-footer%20--%3E%20%3C%2Farticle%3E%3C!--%20%23post-%23%23%20--%3E%20%3C%2Fmain%3E%3C!--%20.site-main%20--%3E%20%3C%2Fdiv%3E%3C!--%20.content-area%20--%3E%20%3C%2Fdiv%3E%3C!--%20.site-content%20--%3E%20%3Cfooter%20id%3D%22colophon%22%20class%3D%22site-footer%22%20role%3D%22contentinfo%22%3E%20%3Cdiv%20class%3D%22site-info%22%3E%20%3Ca%20href%3D%22https%3A%2F%2Fwordpress.org%2F%22%3EProudly%20powered%20by%20WordPress%3C%2Fa%3E%20%3C%2Fdiv%3E%3C!--%20.site-info%20--%3E%20%3C%2Ffooter%3E%3C!--%20.site-footer%20--%3E%20%3C%2Fdiv%3E%3C!--%20.site%20--%3E%20%3Cscript%20type%3D'text%2Fjavascript'%20src%3D'http%3A%2F%2Flocal.eladkarako.com%2Ficompile%2Fwp-includes%2Fjs%2Fadmin-bar.min.js%3Fver%3D4.2-alpha-31273'%3E%3C%2Fscript%3E%20%3Cscript%20type%3D'text%2Fjavascript'%20src%3D'http%3A%2F%2Flocal.eladkarako.com%2Ficompile%2Fwp-content%2Fthemes%2Ftwentyfifteen%2Fjs%2Fskip-link-focus-fix.js%3Fver%3D20141010'%3E%3C%2Fscript%3E%20%3Cscript%20type%3D'text%2Fjavascript'%3E%20%2F*%20%3C!%5BCDATA%5B%20*%2F%20var%20screenReaderText%20%3D%20%7B%22expand%22%3A%22%3Cspan%20class%3D%5C%22screen-reader-text%5C%22%3Eexpand%20child%20menu%3C%5C%2Fspan%3E%22%2C%22collapse%22%3A%22%3Cspan%20class%3D%5C%22screen-reader-text%5C%22%3Ecollapse%20child%20menu%3C%5C%2Fspan%3E%22%7D%3B%20%2F*%20%5D%5D%3E%20*%2F%20%3C%2Fscript%3E%20%3Cscript%20type%3D'text%2Fjavascript'%20src%3D'http%3A%2F%2Flocal.eladkarako.com%2Ficompile%2Fwp-content%2Fthemes%2Ftwentyfifteen%2Fjs%2Ffunctions.js%3Fver%3D20141212'%3E%3C%2Fscript%3E%20%3Cscript%20type%3D%22text%2Fjavascript%22%3E%20(function()%20%7B%20var%20request%2C%20b%20%3D%20document.body%2C%20c%20%3D%20'className'%2C%20cs%20%3D%20'customize-support'%2C%20rcs%20%3D%20new%20RegExp('(%5E%7C%5C%5Cs%2B)(no-)%3F'%2Bcs%2B'(%5C%5Cs%2B%7C%24)')%3B%20request%20%3D%20true%3B%20b%5Bc%5D%20%3D%20b%5Bc%5D.replace(%20rcs%2C%20'%20'%20)%3B%20b%5Bc%5D%20%2B%3D%20(%20window.postMessage%20%26%26%20request%20%3F%20'%20'%20%3A%20'%20no-'%20)%20%2B%20cs%3B%20%7D())%3B%20%3C%2Fscript%3E%20%3Cdiv%20id%3D%22wpadminbar%22%20class%3D%22nojq%20nojs%22%20role%3D%22navigation%22%3E%20%3Ca%20class%3D%22screen-reader-shortcut%22%20href%3D%22%23wp-toolbar%22%20tabindex%3D%221%22%3ESkip%20to%20toolbar%3C%2Fa%3E%20%3Cdiv%20class%3D%22quicklinks%22%20id%3D%22wp-toolbar%22%20role%3D%22navigation%22%20aria-label%3D%22Top%20navigation%20toolbar.%22%20tabindex%3D%220%22%3E%20%3Cul%20id%3D%22wp-admin-bar-root-default%22%20class%3D%22ab-top-menu%22%3E%20%3Cli%20id%3D%22wp-admin-bar-wp-logo%22%20class%3D%22menupop%22%3E%3Ca%20class%3D%22ab-item%22%20aria-haspopup%3D%22true%22%20href%3D%22http%3A%2F%2Flocal.eladkarako.com%2Ficompile%2Fwp-admin%2Fabout.php%22%20title%3D%22About%20WordPress%22%3E%3Cspan%20class%3D%22ab-icon%22%3E%3C%2Fspan%3E%3C%2Fa%3E%3Cdiv%20class%3D%22ab-sub-wrapper%22%3E%3Cul%20id%3D%22wp-admin-bar-wp-logo-default%22%20class%3D%22ab-submenu%22%3E%20%3Cli%20id%3D%22wp-admin-bar-about%22%3E%3Ca%20class%3D%22ab-item%22%20href%3D%22http%3A%2F%2Flocal.eladkarako.com%2Ficompile%2Fwp-admin%2Fabout.php%22%3EAbout%20WordPress%3C%2Fa%3E%20%3C%2Fli%3E%3C%2Ful%3E%3Cul%20id%3D%22wp-admin-bar-wp-logo-external%22%20class%3D%22ab-sub-secondary%20ab-submenu%22%3E%20%3Cli%20id%3D%22wp-admin-bar-wporg%22%3E%3Ca%20class%3D%22ab-item%22%20href%3D%22https%3A%2F%2Fwordpress.org%2F%22%3EWordPress.org%3C%2Fa%3E%20%3C%2Fli%3E%20%3Cli%20id%3D%22wp-admin-bar-documentation%22%3E%3Ca%20class%3D%22ab-item%22%20href%3D%22http%3A%2F%2Fcodex.wordpress.org%2F%22%3EDocumentation%3C%2Fa%3E%20%3C%2Fli%3E%20%3Cli%20id%3D%22wp-admin-bar-support-forums%22%3E%3Ca%20class%3D%22ab-item%22%20href%3D%22https%3A%2F%2Fwordpress.org%2Fsupport%2F%22%3ESupport%20Forums%3C%2Fa%3E%20%3C%2Fli%3E%20%3Cli%20id%3D%22wp-admin-bar-feedback%22%3E%3Ca%20class%3D%22ab-item%22%20href%3D%22https%3A%2F%2Fwordpress.org%2Fsupport%2Fforum%2Frequests-and-feedback%22%3EFeedback%3C%2Fa%3E%20%3C%2Fli%3E%3C%2Ful%3E%3C%2Fdiv%3E%20%3C%2Fli%3E%20%3Cli%20id%3D%22wp-admin-bar-site-name%22%20class%3D%22menupop%22%3E%3Ca%20class%3D%22ab-item%22%20aria-haspopup%3D%22true%22%20href%3D%22http%3A%2F%2Flocal.eladkarako.com%2Ficompile%2Fwp-admin%2F%22%3EiCompile%20(Local)%3C%2Fa%3E%3Cdiv%20class%3D%22ab-sub-wrapper%22%3E%3Cul%20id%3D%22wp-admin-bar-site-name-default%22%20class%3D%22ab-submenu%22%3E%20%3Cli%20id%3D%22wp-admin-bar-dashboard%22%3E%3Ca%20class%3D%22ab-item%22%20href%3D%22http%3A%2F%2Flocal.eladkarako.com%2Ficompile%2Fwp-admin%2F%22%3EDashboard%3C%2Fa%3E%20%3C%2Fli%3E%3C%2Ful%3E%3Cul%20id%3D%22wp-admin-bar-appearance%22%20class%3D%22ab-submenu%22%3E%20%3Cli%20id%3D%22wp-admin-bar-themes%22%3E%3Ca%20class%3D%22ab-item%22%20href%3D%22http%3A%2F%2Flocal.eladkarako.com%2Ficompile%2Fwp-admin%2Fthemes.php%22%3EThemes%3C%2Fa%3E%20%3C%2Fli%3E%20%3Cli%20id%3D%22wp-admin-bar-customize%22%20class%3D%22hide-if-no-customize%22%3E%3Ca%20class%3D%22ab-item%22%20href%3D%22http%3A%2F%2Flocal.eladkarako.com%2Ficompile%2Fwp-admin%2Fcustomize.php%3Furl%3Dhttp%253A%252F%252Flocal.eladkarako.com%252Ficompile%252F%22%3ECustomize%3C%2Fa%3E%20%3C%2Fli%3E%20%3Cli%20id%3D%22wp-admin-bar-widgets%22%20class%3D%22hide-if-customize%22%3E%3Ca%20class%3D%22ab-item%22%20href%3D%22http%3A%2F%2Flocal.eladkarako.com%2Ficompile%2Fwp-admin%2Fwidgets.php%22%3EWidgets%3C%2Fa%3E%20%3C%2Fli%3E%20%3Cli%20id%3D%22wp-admin-bar-customize-widgets%22%20class%3D%22hide-if-no-customize%22%3E%3Ca%20class%3D%22ab-item%22%20href%3D%22http%3A%2F%2Flocal.eladkarako.com%2Ficompile%2Fwp-admin%2Fcustomize.php%3Furl%3Dhttp%253A%252F%252Flocal.eladkarako.com%252Ficompile%252F%26%23038%3Bautofocus%255Bpanel%255D%3Dwidgets%22%3EWidgets%3C%2Fa%3E%20%3C%2Fli%3E%20%3Cli%20id%3D%22wp-admin-bar-menus%22%3E%3Ca%20class%3D%22ab-item%22%20href%3D%22http%3A%2F%2Flocal.eladkarako.com%2Ficompile%2Fwp-admin%2Fnav-menus.php%22%3EMenus%3C%2Fa%3E%20%3C%2Fli%3E%20%3Cli%20id%3D%22wp-admin-bar-background%22%20class%3D%22hide-if-customize%22%3E%3Ca%20class%3D%22ab-item%22%20href%3D%22http%3A%2F%2Flocal.eladkarako.com%2Ficompile%2Fwp-admin%2Fthemes.php%3Fpage%3Dcustom-background%22%3EBackground%3C%2Fa%3E%20%3C%2Fli%3E%20%3Cli%20id%3D%22wp-admin-bar-customize-background%22%20class%3D%22hide-if-no-customize%22%3E%3Ca%20class%3D%22ab-item%22%20href%3D%22http%3A%2F%2Flocal.eladkarako.com%2Ficompile%2Fwp-admin%2Fcustomize.php%3Furl%3Dhttp%253A%252F%252Flocal.eladkarako.com%252Ficompile%252F%26%23038%3Bautofocus%255Bcontrol%255D%3Dbackground_image%22%3EBackground%3C%2Fa%3E%20%3C%2Fli%3E%20%3Cli%20id%3D%22wp-admin-bar-header%22%20class%3D%22hide-if-customize%22%3E%3Ca%20class%3D%22ab-item%22%20href%3D%22http%3A%2F%2Flocal.eladkarako.com%2Ficompile%2Fwp-admin%2Fthemes.php%3Fpage%3Dcustom-header%22%3EHeader%3C%2Fa%3E%20%3C%2Fli%3E%20%3Cli%20id%3D%22wp-admin-bar-customize-header%22%20class%3D%22hide-if-no-customize%22%3E%3Ca%20class%3D%22ab-item%22%20href%3D%22http%3A%2F%2Flocal.eladkarako.com%2Ficompile%2Fwp-admin%2Fcustomize.php%3Furl%3Dhttp%253A%252F%252Flocal.eladkarako.com%252Ficompile%252F%26%23038%3Bautofocus%255Bcontrol%255D%3Dheader_image%22%3EHeader%3C%2Fa%3E%20%3C%2Fli%3E%3C%2Ful%3E%3C%2Fdiv%3E%20%3C%2Fli%3E%20%3Cli%20id%3D%22wp-admin-bar-comments%22%3E%3Ca%20class%3D%22ab-item%22%20href%3D%22http%3A%2F%2Flocal.eladkarako.com%2Ficompile%2Fwp-admin%2Fedit-comments.php%22%20title%3D%220%20comments%20awaiting%20moderation%22%3E%3Cspan%20class%3D%22ab-icon%22%3E%3C%2Fspan%3E%3Cspan%20id%3D%22ab-awaiting-mod%22%20class%3D%22ab-label%20awaiting-mod%20pending-count%20count-0%22%3E0%3C%2Fspan%3E%3C%2Fa%3E%20%3C%2Fli%3E%20%3Cli%20id%3D%22wp-admin-bar-new-content%22%20class%3D%22menupop%22%3E%3Ca%20class%3D%22ab-item%22%20aria-haspopup%3D%22true%22%20href%3D%22http%3A%2F%2Flocal.eladkarako.com%2Ficompile%2Fwp-admin%2Fpost-new.php%22%20title%3D%22Add%20New%22%3E%3Cspan%20class%3D%22ab-icon%22%3E%3C%2Fspan%3E%3Cspan%20class%3D%22ab-label%22%3ENew%3C%2Fspan%3E%3C%2Fa%3E%3Cdiv%20class%3D%22ab-sub-wrapper%22%3E%3Cul%20id%3D%22wp-admin-bar-new-content-default%22%20class%3D%22ab-submenu%22%3E%20%3Cli%20id%3D%22wp-admin-bar-new-post%22%3E%3Ca%20class%3D%22ab-item%22%20href%3D%22http%3A%2F%2Flocal.eladkarako.com%2Ficompile%2Fwp-admin%2Fpost-new.php%22%3EPost%3C%2Fa%3E%20%3C%2Fli%3E%20%3Cli%20id%3D%22wp-admin-bar-new-media%22%3E%3Ca%20class%3D%22ab-item%22%20href%3D%22http%3A%2F%2Flocal.eladkarako.com%2Ficompile%2Fwp-admin%2Fmedia-new.php%22%3EMedia%3C%2Fa%3E%20%3C%2Fli%3E%20%3Cli%20id%3D%22wp-admin-bar-new-page%22%3E%3Ca%20class%3D%22ab-item%22%20href%3D%22http%3A%2F%2Flocal.eladkarako.com%2Ficompile%2Fwp-admin%2Fpost-new.php%3Fpost_type%3Dpage%22%3EPage%3C%2Fa%3E%20%3C%2Fli%3E%20%3Cli%20id%3D%22wp-admin-bar-new-user%22%3E%3Ca%20class%3D%22ab-item%22%20href%3D%22http%3A%2F%2Flocal.eladkarako.com%2Ficompile%2Fwp-admin%2Fuser-new.php%22%3EUser%3C%2Fa%3E%20%3C%2Fli%3E%3C%2Ful%3E%3C%2Fdiv%3E%20%3C%2Fli%3E%3C%2Ful%3E%3Cul%20id%3D%22wp-admin-bar-top-secondary%22%20class%3D%22ab-top-secondary%20ab-top-menu%22%3E%20%3Cli%20id%3D%22wp-admin-bar-search%22%20class%3D%22admin-bar-search%22%3E%3Cdiv%20class%3D%22ab-item%20ab-empty-item%22%20tabindex%3D%22-1%22%3E%3Cform%20action%3D%22http%3A%2F%2Flocal.eladkarako.com%2Ficompile%2F%22%20method%3D%22get%22%20id%3D%22adminbarsearch%22%3E%3Cinput%20class%3D%22adminbar-input%22%20name%3D%22s%22%20id%3D%22adminbar-search%22%20type%3D%22text%22%20value%3D%22%22%20maxlength%3D%22150%22%20%2F%3E%3Cinput%20type%3D%22submit%22%20class%3D%22adminbar-button%22%20value%3D%22Search%22%2F%3E%3C%2Fform%3E%3C%2Fdiv%3E%20%3C%2Fli%3E%20%3Cli%20id%3D%22wp-admin-bar-my-account%22%20class%3D%22menupop%20with-avatar%22%3E%3Ca%20class%3D%22ab-item%22%20aria-haspopup%3D%22true%22%20href%3D%22http%3A%2F%2Flocal.eladkarako.com%2Ficompile%2Fwp-admin%2Fprofile.php%22%20title%3D%22My%20Account%22%3EHowdy%2C%20eladkarako%3Cimg%20alt%3D''%20src%3D'http%3A%2F%2F1.gravatar.com%2Favatar%2F4879031fc142c87da9fde565fb4ea8fe%3Fs%3D26%26%23038%3Bd%3Dmm%26%23038%3Br%3Dg'%20class%3D'avatar%20avatar-26%20photo'%20height%3D'26'%20width%3D'26'%20%2F%3E%3C%2Fa%3E%3Cdiv%20class%3D%22ab-sub-wrapper%22%3E%3Cul%20id%3D%22wp-admin-bar-user-actions%22%20class%3D%22ab-submenu%22%3E%20%3Cli%20id%3D%22wp-admin-bar-user-info%22%3E%3Ca%20class%3D%22ab-item%22%20tabindex%3D%22-1%22%20href%3D%22http%3A%2F%2Flocal.eladkarako.com%2Ficompile%2Fwp-admin%2Fprofile.php%22%3E%3Cimg%20alt%3D''%20src%3D'http%3A%2F%2F1.gravatar.com%2Favatar%2F4879031fc142c87da9fde565fb4ea8fe%3Fs%3D64%26%23038%3Bd%3Dmm%26%23038%3Br%3Dg'%20class%3D'avatar%20avatar-64%20photo'%20height%3D'64'%20width%3D'64'%20%2F%3E%3Cspan%20class%3D'display-name'%3Eeladkarako%3C%2Fspan%3E%3C%2Fa%3E%20%3C%2Fli%3E%20%3Cli%20id%3D%22wp-admin-bar-edit-profile%22%3E%3Ca%20class%3D%22ab-item%22%20href%3D%22http%3A%2F%2Flocal.eladkarako.com%2Ficompile%2Fwp-admin%2Fprofile.php%22%3EEdit%20My%20Profile%3C%2Fa%3E%20%3C%2Fli%3E%20%3Cli%20id%3D%22wp-admin-bar-logout%22%3E%3Ca%20class%3D%22ab-item%22%20href%3D%22http%3A%2F%2Flocal.eladkarako.com%2Ficompile%2Fwp-login.php%3Faction%3Dlogout%26%23038%3B_wpnonce%3D6a3356fe7f%22%3ELog%20Out%3C%2Fa%3E%20%3C%2Fli%3E%3C%2Ful%3E%3C%2Fdiv%3E%20%3C%2Fli%3E%3C%2Ful%3E%20%3C%2Fdiv%3E%20%3Ca%20class%3D%22screen-reader-shortcut%22%20href%3D%22http%3A%2F%2Flocal.eladkarako.com%2Ficompile%2Fwp-login.php%3Faction%3Dlogout%26%23038%3B_wpnonce%3D6a3356fe7f%22%3ELog%20Out%3C%2Fa%3E%20%3C%2Fdiv%3E%20%3C%2Fbody%3E%20%3C%2Fhtml%3E";
  $content = html_entity_decode(preg_replace("/%u([0-9a-f]{3,4})/i", "&#x\\1;", urldecode($content)), null, "UTF-8");


  /**
   * quickly cut all script tags and paste them before the end-body tag.
   *
   * @param $html
   *
   * @return string
   * @link http://icompile.eladkarako.com/php-raw-html-processing-move-all-script-tags-to-the-end-of-body-tag/
   */
  function put_all_scripts_at_end($html) {
    $scripts = [];

    $html = preg_replace_callback("#<script(.*?)>(.*?)</script>#is", function ($arr) use (&$scripts) {
      $full = $arr[0];
      $attributes = trim($arr[1]);
      $inline = $arr[2];

      array_push($scripts, $full); //    store content.

      return ""; //                      clean from HTML.
    }, $html);

    $html = explode("</body", $html);
    $html = $html[0] . "\n" . implode("\n", $scripts) . "\n" . "</body" . $html[1];

    return $html;
  }

  var_dump(
    put_all_scripts_at_end($content)
  );
